<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="6pSprQE3BiN_wM4uIQnTSoO5EAKab52jQ86zdl_VH84">
<meta name="google-site-verification" content="pa5VzMThwxpvSOgHS15kDjiLdeww7kHG5LcJjH6EQko">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/science-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/science-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="linux,">





  <link rel="alternate" href="/atom.xml" title="ZCH NOTES" type="application/atom+xml">






<meta name="description" content="常用命令 cd 123456[root@192 zch]# pwd/home/zch[root@192 zch]# cd test/[root@192 test]# cd -  #表示回到刚刚的那个目录/home/zch[root@192 zch]#  pwd 12345678[root@192 zch]# cd /var/mail[root@192 mail]# pwd/var/mail[roo">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="linux--命令那些事">
<meta property="og:url" content="http://yoursite.com/2020/07/25/operating_system/linux/linux---命令那些事/index.html">
<meta property="og:site_name" content="ZCH NOTES">
<meta property="og:description" content="常用命令 cd 123456[root@192 zch]# pwd/home/zch[root@192 zch]# cd test/[root@192 test]# cd -  #表示回到刚刚的那个目录/home/zch[root@192 zch]#  pwd 12345678[root@192 zch]# cd /var/mail[root@192 mail]# pwd/var/mail[roo">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/images/1533697350348.jpg">
<meta property="og:image" content="http://yoursite.com/images/1533708522895.jpg">
<meta property="og:image" content="http://yoursite.com/images/1533716217738.jpg">
<meta property="og:updated_time" content="2020-07-25T08:52:41.538Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux--命令那些事">
<meta name="twitter:description" content="常用命令 cd 123456[root@192 zch]# pwd/home/zch[root@192 zch]# cd test/[root@192 test]# cd -  #表示回到刚刚的那个目录/home/zch[root@192 zch]#  pwd 12345678[root@192 zch]# cd /var/mail[root@192 mail]# pwd/var/mail[roo">
<meta name="twitter:image" content="http://yoursite.com/images/1533697350348.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/07/25/operating_system/linux/linux---命令那些事/">





  <title>linux--命令那些事 | ZCH NOTES</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZCH NOTES</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">博学笃志 切问近思</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/25/operating_system/linux/linux---命令那些事/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zch">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZCH NOTES">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">linux--命令那些事</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-25T16:52:41+08:00">
                2020-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/07/25/operating_system/linux/linux---命令那些事/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/07/25/operating_system/linux/linux---命令那些事/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><ul>
<li><p>cd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 zch]# pwd</span><br><span class="line">/home/zch</span><br><span class="line">[root@192 zch]# cd test/</span><br><span class="line">[root@192 test]# cd -  #表示回到刚刚的那个目录</span><br><span class="line">/home/zch</span><br><span class="line">[root@192 zch]#</span><br></pre></td></tr></table></figure>
</li>
<li><p>pwd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@192 zch]# cd /var/mail</span><br><span class="line">[root@192 mail]# pwd</span><br><span class="line">/var/mail</span><br><span class="line">[root@192 mail]# pwd -P</span><br><span class="line">#-P  ：显示出确实的路径，而非使用连结 (link) 路径。</span><br><span class="line">/var/spool/mail</span><br><span class="line">[root@192 mail]# ls -ld /var/mail</span><br><span class="line">lrwxrwxrwx. 1 root root 10 6月  22 06:35 /var/mail -&gt; spool/mail</span><br></pre></td></tr></table></figure>
</li>
<li><p>mkdir</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～</span><br><span class="line">-p ：帮助你直接将所需要的目录(包含上一级目录)递回创建起来！</span><br><span class="line"></span><br><span class="line">[root@192 zch]# mkdir -m 744 -p test1/test2/test3</span><br><span class="line">[root@192 zch]# ls -ld test1</span><br><span class="line">drwxr-xr-x. 3 root root 18 7月  25 17:51 test1</span><br></pre></td></tr></table></figure>
</li>
<li><p>rmdir (删除『空』的目录)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 zch]# rmdir test1</span><br><span class="line">rmdir: 删除 &quot;test1&quot; 失败: 目录非空</span><br></pre></td></tr></table></figure>
</li>
<li><p>ls</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-a  ：全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)</span><br><span class="line">-A  ：全部的文件，连同隐藏档，但不包括 . 与 .. 这两个目录</span><br><span class="line">-d  ：仅列出目录本身，而不是列出目录内的文件数据(常用)</span><br><span class="line">-f  ：直接列出结果，而不进行排序 (ls 默认会以档名排序！)</span><br><span class="line">-F  ：根据文件、目录等资讯，给予附加数据结构，例如：</span><br><span class="line">      *:代表可运行档； /:代表目录； =:代表 socket 文件； |:代表 FIFO 文件；</span><br><span class="line">-h  ：将文件容量以人类较易读的方式(例如 GB, KB 等等)列出来；</span><br><span class="line">-i  ：列出 inode 号码，inode 的意义下一章将会介绍；</span><br><span class="line">-l  ：长数据串列出，包含文件的属性与权限等等数据；(常用)</span><br><span class="line">-n  ：列出 UID 与 GID 而非使用者与群组的名称 (UID与GID会在帐号管理提到！)</span><br><span class="line">-r  ：将排序结果反向输出，例如：原本档名由小到大，反向则为由大到小；</span><br><span class="line">-R  ：连同子目录内容一起列出来，等於该目录下的所有文件都会显示出来；</span><br><span class="line">-S  ：以文件容量大小排序，而不是用档名排序；</span><br><span class="line">-t  ：依时间排序，而不是用档名。</span><br><span class="line"></span><br><span class="line"># 查看文件夹</span><br><span class="line">[root@192 zch]# ls -ld test</span><br><span class="line">drwxr-xr-x. 2 root root 19 7月  24 18:10 test</span><br><span class="line">[root@192 zch]# ls -l test/</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 7月  24 18:10 hh.txt</span><br><span class="line"></span><br><span class="line">[root@192 test1]# ls -l</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 18 7月  25 17:51 test2</span><br><span class="line">drwxr-xr-x. 2 root root  6 7月  25 18:14 test9</span><br><span class="line"># 递归展示，子目录内容一起列出来</span><br><span class="line">[root@192 test1]# ls -lR</span><br><span class="line">.:</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 18 7月  25 17:51 test2</span><br><span class="line">drwxr-xr-x. 2 root root  6 7月  25 18:14 test9</span><br><span class="line"></span><br><span class="line">./test2:</span><br><span class="line">总用量 0</span><br><span class="line">drwxr--r--. 2 root root 6 7月  25 17:51 test3</span><br><span class="line"></span><br><span class="line">./test2/test3:</span><br><span class="line">总用量 0</span><br><span class="line"></span><br><span class="line">./test9:</span><br><span class="line">总用量 0</span><br><span class="line"></span><br><span class="line"># 按文件大小排序输出</span><br><span class="line">[root@192 zch]# ls -lSh</span><br><span class="line">总用量 16K</span><br><span class="line">drwxrwxr-x. 5 zch  zch  4.0K 7月  18 09:53 dev-software</span><br><span class="line">-rw-r--r--. 1 root root 1.7K 7月  23 10:45 zch.key</span><br><span class="line">-rw-r--r--. 1 root root 1.2K 7月  23 10:48 zch.crt</span><br><span class="line">-rw-r--r--. 1 root root 1.1K 7月  23 10:45 zch.csr</span><br><span class="line">drwxr-xr-x. 4 root root   30 7月  25 18:14 test1</span><br><span class="line">drwxr-xr-x. 2 root root   19 7月  24 18:10 test</span><br><span class="line">drwxr-xr-x. 2 zch  zch     6 6月  22 07:15 公共</span><br><span class="line"># 按时间排序输出</span><br><span class="line">[root@192 zch]# ls -lt</span><br><span class="line">总用量 16</span><br><span class="line">drwxr-xr-x. 4 root root   30 7月  25 18:14 test1</span><br><span class="line">drwxr-xr-x. 2 root root   19 7月  24 18:10 test</span><br><span class="line">-rw-r--r--. 1 root root 1208 7月  23 10:48 zch.crt</span><br><span class="line">-rw-r--r--. 1 root root 1066 7月  23 10:45 zch.csr</span><br><span class="line">-rw-r--r--. 1 root root 1704 7月  23 10:45 zch.key</span><br><span class="line">drwxrwxr-x. 5 zch  zch  4096 7月  18 09:53 dev-software</span><br><span class="line">drwxr-xr-x. 2 zch  zch     6 6月  22 07:15 公共</span><br><span class="line"></span><br><span class="line"># 模糊查询</span><br><span class="line">[root@192 zch]# ls zch*</span><br><span class="line">zch.crt  zch.csr  zch.key</span><br></pre></td></tr></table></figure>
</li>
<li><p>cp (复制文件或目录)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cp [-adfilprsu] 来源档(source) 目标档(destination)</span><br><span class="line">[root@www ~]# cp [options] source1 source2 source3 .... directory</span><br><span class="line">选项与参数：</span><br><span class="line">-a  ：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)</span><br><span class="line">-d  ：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；</span><br><span class="line">-f  ：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；</span><br><span class="line">-i  ：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)</span><br><span class="line">-l  ：进行硬式连结(hard link)的连结档创建，而非复制文件本身；</span><br><span class="line">-p  ：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；</span><br><span class="line">-r  ：递回持续复制，用於目录的复制行为；(常用)</span><br><span class="line">-s  ：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；</span><br><span class="line">-u  ：若 destination 比 source 旧才升级 destination ！</span><br><span class="line"></span><br><span class="line">[root@192 zch]# cp -a test1 temp</span><br><span class="line">[root@192 zch]# ls -ld temp</span><br><span class="line">drwxrwxr-x. 3 zch zch 18 7月  26 06:52 temp</span><br><span class="line">[root@192 zch]# su zch</span><br><span class="line">[zch@192 ~]$ ls -ld test1</span><br><span class="line">drwxrwxr-x. 3 zch zch 18 7月  26 06:52 test1</span><br></pre></td></tr></table></figure>
</li>
<li><p>rm (移除文件或目录)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# rm [-fir] 文件或目录</span><br><span class="line">选项与参数：</span><br><span class="line">-f  ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；</span><br><span class="line">-i  ：互动模式，在删除前会询问使用者是否动作</span><br><span class="line">-r  ：递回删除啊！最常用在目录的删除了！这是非常危险的选项！！！</span><br><span class="line"></span><br><span class="line">[zch@192 ~]$ rm -i temp</span><br><span class="line">rm: 无法删除&quot;temp&quot;: 是一个目录</span><br><span class="line">[zch@192 ~]$ rm -r temp  #删除temp目录以及下面所有的文件</span><br><span class="line">[zch@192 ~]$ ls</span><br></pre></td></tr></table></figure>
<ul>
<li>mv (移动文件与目录，或更名)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# mv [-fiu] source destination</span><br><span class="line">[root@www ~]# mv [options] source1 source2 source3 .... directory</span><br><span class="line">选项与参数：</span><br><span class="line">-f  ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</span><br><span class="line">-i  ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</span><br><span class="line">-u  ：若目标文件已经存在，且 source 比较新，才会升级 (update)</span><br><span class="line"></span><br><span class="line"># 可以用来重命名</span><br><span class="line">[zch@192 ~]$ mv test1 temp</span><br><span class="line">[zch@192 ~]$ ls</span><br><span class="line">temp  VMwareTools-10.2.5-8068393.tar.gz  vmware-tools-distrib</span><br></pre></td></tr></table></figure>
<ul>
<li><p>more (一页一页翻动)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# more /etc/man.config</span><br><span class="line">#</span><br><span class="line"># Generated automatically from man.conf.in by the</span><br><span class="line"># configure script.</span><br><span class="line">#</span><br><span class="line"># man.conf from man-1.6d</span><br><span class="line">....(中间省略)....</span><br><span class="line">--More--(28%)  &lt;== 重点在这一行喔！你的光标也会在这里等待你的命令</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">空白键 (space)：代表向下翻一页；</span><br><span class="line">Enter         ：代表向下翻『一行』；</span><br><span class="line">/字串         ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</span><br><span class="line">:f            ：立刻显示出档名以及目前显示的行数；</span><br><span class="line">q             ：代表立刻离开 more ，不再显示该文件内容。</span><br><span class="line">b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</span><br></pre></td></tr></table></figure>
</li>
<li><p>less (一页一页翻动)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">less 的用法比起 more 又更加的有弹性，怎么说呢？在 more 的时候，我们并没有办法向前面翻， 只能往后面看，但若使用了 less 时，呵呵！就可以使用 [pageup] [pagedown] 等按键的功能来往前往后翻看文件，你瞧，是不是更容易使用来观看一个文件的内容了呢！</span><br><span class="line"></span><br><span class="line">除此之外，在 less 里头可以拥有更多的『搜寻』功能喔！不止可以向下搜寻，也可以向上搜寻～ 实在是很不错用～基本上，可以输入的命令有：</span><br><span class="line"></span><br><span class="line">空白键    ：向下翻动一页；</span><br><span class="line">[pagedown]：向下翻动一页；</span><br><span class="line">[pageup]  ：向上翻动一页；</span><br><span class="line">/字串     ：向下搜寻『字串』的功能；</span><br><span class="line">?字串     ：向上搜寻『字串』的功能；</span><br><span class="line">n         ：重复前一个搜寻 (与 / 或 ? 有关！)</span><br><span class="line">N         ：反向的重复前一个搜寻 (与 / 或 ? 有关！)</span><br><span class="line">q         ：离开 less 这个程序；</span><br></pre></td></tr></table></figure>
</li>
<li><p>head (取出前面几行)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@www ~]# head [-n number] 文件</span><br><span class="line">选项与参数：</span><br><span class="line">-n  ：后面接数字，代表显示几行的意思</span><br><span class="line"></span><br><span class="line">[root@www ~]# head /etc/man.config</span><br><span class="line"># 默认的情况中，显示前面十行！若要显示前 20 行，就得要这样：</span><br><span class="line">[root@www ~]# head -n 20 /etc/man.config</span><br><span class="line"></span><br><span class="line">范例：如果后面100行的数据都不列印，只列印/etc/man.config的前面几行，该如何是好？</span><br><span class="line">[root@www ~]# head -n -100 /etc/man.config</span><br></pre></td></tr></table></figure>
<ul>
<li><p>tail (取出后面几行)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# tail [-n number] 文件</span><br><span class="line">选项与参数：</span><br><span class="line">-n  ：后面接数字，代表显示几行的意思</span><br><span class="line">-f  ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测</span><br><span class="line"></span><br><span class="line">[root@www ~]# tail /etc/man.config</span><br><span class="line"># 默认的情况中，显示最后的十行！若要显示最后的 20 行，就得要这样：</span><br><span class="line">[root@www ~]# tail -n 20 /etc/man.config</span><br><span class="line"></span><br><span class="line">范例一：如果不知道/etc/man.config有几行，却只想列出100行以后的数据时？</span><br><span class="line">[root@www ~]# tail -n +100 /etc/man.config</span><br><span class="line"></span><br><span class="line">范例二：持续侦测/var/log/messages的内容</span><br><span class="line">[root@www ~]# tail -f /var/log/messages</span><br><span class="line">  &lt;==要等到输入[crtl]-c之后才会离开tail这个命令的侦测！</span><br></pre></td></tr></table></figure>
</li>
<li><p>touch(修改文件时间或建置新档)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# touch [-acdmt] 文件</span><br><span class="line">选项与参数：</span><br><span class="line">-a  ：仅修订 access time；</span><br><span class="line">-c  ：仅修改文件的时间，若该文件不存在则不创建新文件；</span><br><span class="line">-d  ：后面可以接欲修订的日期而不用目前的日期，也可以使用 --date=&quot;日期或时间&quot;</span><br><span class="line">-m  ：仅修改 mtime ；</span><br><span class="line">-t  ：后面可以接欲修订的时间而不用目前的时间，格式为[YYMMDDhhmm]</span><br><span class="line"></span><br><span class="line">范例一：新建一个空的文件并观察时间</span><br><span class="line">[root@www ~]# cd /tmp</span><br><span class="line">[root@www tmp]# touch testtouch</span><br><span class="line">[root@www tmp]# ls -l testtouch</span><br><span class="line">-rw-r--r-- 1 root root 0 Sep 25 21:09 testtouch</span><br><span class="line"># 注意到，这个文件的大小是 0 呢！在默认的状态下，如果 touch 后面有接文件，</span><br><span class="line"># 则该文件的三个时间 (atime/ctime/mtime) 都会升级为目前的时间。若该文件不存在，</span><br><span class="line"># 则会主动的创建一个新的空的文件喔！例如上面这个例子！</span><br><span class="line"></span><br><span class="line">范例二：将 ~/.bashrc 复制成为 bashrc，假设复制完全的属性，检查其日期</span><br><span class="line">[root@www tmp]# cp -a ~/.bashrc bashrc</span><br><span class="line">[root@www tmp]# ll bashrc; ll --time=atime bashrc; ll --time=ctime bashrc</span><br><span class="line">-rw-r--r-- 1 root root 176 Jan  6  2007 bashrc  &lt;==这是 mtime</span><br><span class="line">-rw-r--r-- 1 root root 176 Sep 25 21:11 bashrc  &lt;==这是 atime</span><br><span class="line">-rw-r--r-- 1 root root 176 Sep 25 21:12 bashrc  &lt;==这是 ctime</span><br></pre></td></tr></table></figure>
</li>
<li><p>which (寻找『运行档』)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# which [-a] command</span><br><span class="line">选项或参数：</span><br><span class="line">-a ：将所有由 PATH 目录中可以找到的命令均列出，而不止第一个被找到的命令名称</span><br><span class="line"></span><br><span class="line">[root@192 zch]# which ifconfig</span><br><span class="line">/usr/sbin/ifconfig</span><br><span class="line">[root@192 zch]# which ls</span><br><span class="line">alias ls=&apos;ls --color=auto&apos;</span><br><span class="line">        /usr/bin/ls</span><br></pre></td></tr></table></figure>
</li>
<li><p>whereis (寻找特定文件)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# whereis [-bmsu] 文件或目录名</span><br><span class="line">选项与参数：</span><br><span class="line">-b    :只找 binary 格式的文件</span><br><span class="line">-m    :只找在说明档 manual 路径下的文件</span><br><span class="line">-s    :只找 source 来源文件</span><br><span class="line">-u    :搜寻不在上述三个项目当中的其他特殊文件</span><br><span class="line"></span><br><span class="line">[zch@192 ~]$ whereis ifconfig</span><br><span class="line">ifconfig: /usr/sbin/ifconfig /usr/share/man/man8/ifconfig.8.gz</span><br><span class="line"></span><br><span class="line">那么 whereis 到底是使用什么咚咚呢？为何搜寻的速度会比 find 快这么多？ 其实那也没有什么！这是因为 Linux 系统会将系统内的所有文件都记录在一个数据库文件里面， 而当使用 whereis 或者是底下要说的 locate 时，都会以此数据库文件的内容为准， 因此，有的时后你还会发现使用这两个运行档时，会找到已经被杀掉的文件！ 而且也找不到最新的刚刚创建的文件呢！这就是因为这两个命令是由数据库当中的结果去搜寻文件的所在啊！ 更多与这个数据库有关的说明，请参考下列的 locate 命令。</span><br></pre></td></tr></table></figure>
</li>
<li><p>find</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# find [PATH] [option] [action]</span><br><span class="line"># man find</span><br><span class="line"></span><br><span class="line"># 查找名为test1的文件</span><br><span class="line">[zch@192 ~]$ find -name test1</span><br><span class="line">./test/test1</span><br><span class="line">./test1</span><br><span class="line"></span><br><span class="line"># 查找名为test1的文件 并 查看详细信息</span><br><span class="line">[zch@192 ~]$ find -name test1 | xargs ls -ld</span><br><span class="line">drwxr-xr-x. 4 root root 30 7月  27 10:36 ./test1</span><br><span class="line">-rw-r--r--. 1 root root  0 7月  27 10:37 ./test/test1</span><br><span class="line"></span><br><span class="line"># 查找名为test1的文本文件</span><br><span class="line">[zch@192 ~]$ find -name test1 -type f</span><br><span class="line">./test/test1</span><br><span class="line"># 查找名为test1的目录</span><br><span class="line">[zch@192 ~]$ find -name test1 -type d</span><br><span class="line">./test1</span><br><span class="line"></span><br><span class="line"># 查找一天之内变更过的文件</span><br><span class="line">[zch@192 ~]$ find -mtime 0 | xargs ls -ld</span><br><span class="line">drwx------. 18 zch  zch  4096 7月  27 10:36 .</span><br><span class="line">drwxrwxr-x.  2 zch  zch    50 7月  27 10:44 ./.cache/abrt</span><br><span class="line">-rw-------.  1 zch  zch    11 7月  27 10:44 ./.cache/abrt/lastnotification</span><br><span class="line">drwxr-xr-x.  2 root root   31 7月  27 10:37 ./test</span><br><span class="line">drwxr-xr-x.  4 root root   30 7月  27 10:36 ./test1</span><br><span class="line">-rw-r--r--.  1 root root    0 7月  27 10:36 ./test1.txt</span><br><span class="line">-rw-r--r--.  1 root root    0 7月  27 10:37 ./test/test1</span><br><span class="line">[zch@192 ~]$ date</span><br><span class="line">2018年 07月 27日 星期五 10:57:56 CST</span><br><span class="line"></span><br><span class="line"># 正则 查找后缀为txt的文件</span><br><span class="line">[zch@192 ~]$ find -regex .*\.txt</span><br><span class="line">./.mozilla/firefox/mloqpkz5.default/revocations.txt</span><br><span class="line">./dev-software/openresty-1.13.6.1/build/lua-cjson-2.1.0.5/CMakeLists.txt</span><br><span class="line">./dev-software/openresty-1.13.6.1/build/lua-cjson-2.1.0.5/performance.txt</span><br><span class="line">./test/hh.txt</span><br><span class="line">./test1.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>file(查看文件类型)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[zch@192 ~]$ file pom.xml</span><br><span class="line"></span><br><span class="line">pom.xml: exported SGML document, UTF-8 Unicode text</span><br><span class="line">[zch@192 ~]$ </span><br><span class="line">[zch@192 ~]$ file temp</span><br><span class="line">temp: directory</span><br><span class="line">[zch@192 ~]$ file VMwareTools-10.2.5-8068393.tar.gz </span><br><span class="line">VMwareTools-10.2.5-8068393.tar.gz: gzip compressed data, from Unix, last modified: Thu Mar 22 17:10:52 2018</span><br></pre></td></tr></table></figure>
<ul>
<li>tar(打包压缩)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# tar [-j|-z] [cv] [-f 创建的档名] filename... &lt;==打包与压缩</span><br><span class="line">[root@www ~]# tar [-j|-z] [tv] [-f 创建的档名]             &lt;==察看档名</span><br><span class="line">[root@www ~]# tar [-j|-z] [xv] [-f 创建的档名] [-C 目录]   &lt;==解压缩</span><br><span class="line">选项与参数：</span><br><span class="line">-c  ：创建打包文件，可搭配 -v 来察看过程中被打包的档名(filename)</span><br><span class="line">-t  ：察看打包文件的内容含有哪些档名，重点在察看『档名』就是了；</span><br><span class="line">-x  ：解打包或解压缩的功能，可以搭配 -C (大写) 在特定目录解开</span><br><span class="line">      特别留意的是， -c, -t, -x 不可同时出现在一串命令列中。</span><br><span class="line">-j  ：透过 bzip2 的支持进行压缩/解压缩：此时档名最好为 *.tar.bz2</span><br><span class="line">-z  ：透过 gzip  的支持进行压缩/解压缩：此时档名最好为 *.tar.gz</span><br><span class="line">-v  ：在压缩/解压缩的过程中，将正在处理的档名显示出来！</span><br><span class="line">-f filename：-f 后面要立刻接要被处理的档名！建议 -f 单独写一个选项罗！</span><br><span class="line">-C 目录    ：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。</span><br><span class="line"></span><br><span class="line">其他后续练习会使用到的选项介绍：</span><br><span class="line">-p  ：保留备份数据的原本权限与属性，常用於备份(-c)重要的配置档</span><br><span class="line">-P  ：保留绝对路径，亦即允许备份数据中含有根目录存在之意；</span><br><span class="line">--exclude=FILE：在压缩的过程中，不要将 FILE 打包！ </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">压　缩：tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称</span><br><span class="line">查　询：tar -jtv -f filename.tar.bz2</span><br><span class="line">解压缩：tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录</span><br><span class="line"></span><br><span class="line"># 压缩</span><br><span class="line">[zch@192 ~]$ tar -zcvf temp.tar.gz temp</span><br><span class="line">temp/</span><br><span class="line">temp/test2/</span><br><span class="line">temp/test2/test3/</span><br><span class="line">temp/hh</span><br><span class="line">[zch@192 ~]$ ls -l temp.tar.gz </span><br><span class="line">-rw-rw-r--. 1 zch zch 177 7月  29 21:35 temp.tar.gz</span><br><span class="line"></span><br><span class="line"># 把文件解压到指定目录</span><br><span class="line">[zch@192 ~]$ tar -zxvf temp.tar.gz -C temp2</span><br><span class="line">temp/</span><br><span class="line">temp/test2/</span><br><span class="line">temp/test2/test3/</span><br><span class="line">temp/hh</span><br><span class="line">[zch@192 ~]$ ls ./temp2</span><br><span class="line">temp</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="数据流重导向-Redirection"><a href="#数据流重导向-Redirection" class="headerlink" title="数据流重导向 (Redirection)"></a>数据流重导向 (Redirection)</h1><blockquote>
<p>数据流重导向 (redirect) 由字面上的意思来看，好像就是将『数据给他传导到其他地方去』的样子？ 没错～数据流重导向就是将某个命令运行后应该要出现在屏幕上的数据， 给他传输到其他的地方</p>
</blockquote>
<p><img src="/images/1533697350348.jpg" alt="命令运行过程的数据传输情况"></p>"
<h2 id="standard-output-与-standard-error-output"><a href="#standard-output-与-standard-error-output" class="headerlink" title="standard output 与 standard error output"></a>standard output 与 standard error output</h2><blockquote>
<p>简单的说，标准输出指的是『命令运行所回传的正确的信息』，而标准错误输出可理解为『 命令运行失败后，所回传的错误信息』</p>
</blockquote>
<ul>
<li>标准输入　　(stdin) ：代码为 0 ，使用 &lt; 或 &lt;&lt; ；</li>
<li>标准输出　　(stdout)：代码为 1 ，使用 &gt; 或 &gt;&gt; ；</li>
<li><p>标准错误输出(stderr)：代码为 2 ，使用 2&gt; 或 2&gt;&gt; ；</p>
</li>
<li><p>举例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 输出重定向</span><br><span class="line">[zch@localhost ~]$ ll &gt;&gt; ./linux_test/ll.log</span><br><span class="line">[zch@localhost ~]$ cat ./linux_test/ll.log</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxr-x. 2 zch zch 19 8月   8 11:24 linux_test</span><br><span class="line">drwxr-xr-x. 2 zch zch  6 8月   8 09:53 公共</span><br><span class="line">drwxr-xr-x. 2 zch zch  6 8月   8 09:53 模板</span><br><span class="line"></span><br><span class="line"># 重导向 标准信息和错误信息</span><br><span class="line">[zch@localhost ~]$ find /home -name .bashrc 1&gt;&gt;./linux_test/result.log 2&gt;&gt;error.log</span><br><span class="line">[zch@localhost ~]$ cat ./linux_test/result.log</span><br><span class="line">/home/zch/.bashrc</span><br><span class="line">[zch@localhost ~]$ cat ./error.log</span><br><span class="line">find: ‘/home/test’: 权限不够</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="dev-null-垃圾桶黑洞装置与特殊写法"><a href="#dev-null-垃圾桶黑洞装置与特殊写法" class="headerlink" title="/dev/null 垃圾桶黑洞装置与特殊写法"></a>/dev/null 垃圾桶黑洞装置与特殊写法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#将错误的数据丢弃，屏幕上显示正确的数据</span><br><span class="line">[zch@localhost ~]$ find /home -name .bashrc</span><br><span class="line">/home/zch/.bashrc</span><br><span class="line">find: ‘/home/test’: 权限不够</span><br><span class="line">[zch@localhost ~]$ find /home -name .bashrc 2&gt;&gt;/dev/null</span><br><span class="line">/home/zch/.bashrc</span><br></pre></td></tr></table></figure>
<p>如果我要将正确与错误数据通通写入同一个文件去呢？这个时候就得要使用特殊的写法了！ 我们同样用底下的案例来说明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 错误</span><br><span class="line">[zch@localhost ~]$ find /home -name .bashrc &gt; list 2&gt; list</span><br><span class="line">[zch@localhost ~]$ cat list</span><br><span class="line">find: ‘/home/test’: 权限不够</span><br><span class="line"></span><br><span class="line"># 正确</span><br><span class="line">zch@localhost ~]$ find /home -name .bashrc &gt; list 2&gt;&amp;1</span><br><span class="line">[zch@localhost ~]$ cat list</span><br><span class="line">/home/zch/.bashrc</span><br><span class="line">find: ‘/home/test’: 权限不够</span><br><span class="line"></span><br><span class="line">#正确</span><br><span class="line">[zch@localhost ~]$ find /home -name .bashrc &amp;&gt; list</span><br><span class="line">[zch@localhost ~]$ cat list</span><br><span class="line">/home/zch/.bashrc</span><br><span class="line">find: ‘/home/test’: 权限不够</span><br></pre></td></tr></table></figure></p>
<p>上述表格第一行错误的原因是，由于两股数据同时写入一个文件，又没有使用特殊的语法， 此时两股数据可能会交叉写入该文件内，造成次序的错乱。</p>
<h2 id="standard-input-：-lt-与-lt-lt"><a href="#standard-input-：-lt-与-lt-lt" class="headerlink" title="standard input ： &lt; 与 &lt;&lt;"></a>standard input ： &lt; 与 &lt;&lt;</h2><blockquote>
<p>以最简单的说法来说， 那就是『将原本需要由键盘输入的数据，改由文件内容来取代』的意思</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 用 stdin 取代键盘的输入以创建新文件的简单流程</span><br><span class="line">[zch@localhost ~]$ cat &gt; list &lt; .bashrc</span><br><span class="line">[zch@localhost ~]$ cat list</span><br><span class="line"># .bashrc</span><br><span class="line"></span><br><span class="line"># Source global definitions</span><br><span class="line">if [ -f /etc/bashrc ]; then</span><br><span class="line">	. /etc/bashrc</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Uncomment the following line if you don&apos;t like systemctl&apos;s auto-paging feature:</span><br><span class="line"># export SYSTEMD_PAGER=</span><br><span class="line"></span><br><span class="line"># User specific aliases and functions</span><br></pre></td></tr></table></figure>
<h1 id="管道命令"><a href="#管道命令" class="headerlink" title="管道命令"></a>管道命令</h1><blockquote>
<p>这个管线命令『 | 』仅能处理经由前面一个命令传来的正确信息，也就是 standard output 的信息，对于 stdandard error 并没有直接处理的能力。那么整体的管线命令可以使用下图表示：</p>
</blockquote>
<p><img src="/images/1533708522895.jpg" alt="管线命令的处理示意图"><br>在每个管线后面接的第一个数据必定是『命令』喔！而且这个命令必须要能够接受 standard input 的数据才行，这样的命令才可以是为『管线命令』，例如 less, more, head, tail 等都是可以接受 standard input 的管线命令啦。至于例如 ls, cp, mv 等就不是管线命令了！因为 ls, cp, mv 并不会接受来自 stdin 的数据。 也就是说，管线命令主要有两个比较需要注意的地方：</p>"
<ul>
<li>管线命令仅会处理 standard output，对于 standard error output 会予以忽略</li>
<li>管线命令必须要能够接受来自前一个命令的数据成为 standard input 继续处理才行。<h2 id="选取命令"><a href="#选取命令" class="headerlink" title="选取命令"></a>选取命令</h2><blockquote>
<p>什么是撷取命令啊？说穿了，就是将一段数据经过分析后，取出我们所想要的。或者是经由分析关键词，取得我们所想要的那一行！ 不过，要注意的是，一般来说，撷取信息通常是针对『一行一行』来分析的</p>
</blockquote>
</li>
</ul>
<h3 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cut -d&apos;分隔字符&apos; -f fields &lt;==用于有特定分隔字符</span><br><span class="line">[root@www ~]# cut -c 字符区间            &lt;==用于排列整齐的信息</span><br><span class="line">选项与参数：</span><br><span class="line">-d  ：后面接分隔字符。与 -f 一起使用；</span><br><span class="line">-f  ：依据 -d 的分隔字符将一段信息分割成为数段，用 -f 取出第几段的意思；</span><br><span class="line">-c  ：以字符 (characters) 的单位取出固定字符区间；</span><br><span class="line"></span><br><span class="line">#将 PATH 变量取出，我要找出第一个路径。</span><br><span class="line">[zch@localhost ~]$ echo $PATH</span><br><span class="line">/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/zch/.local/bin:/home/zch/bin</span><br><span class="line">[zch@localhost ~]$ echo $PATH | cut -d&apos;:&apos; -f 1</span><br><span class="line">/usr/local/bin</span><br><span class="line">[zch@localhost ~]$ echo $PATH | cut -d&apos;:&apos; -f 1,2        #1,2</span><br><span class="line">/usr/local/bin:/usr/bin</span><br><span class="line">[zch@localhost ~]$ echo $PATH | cut -d&apos;:&apos; -f 1-3        #1~3</span><br><span class="line">/usr/local/bin:/usr/bin:/usr/local/sbin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#将 export 输出的信息，取得第 12 字符以后的所有字符串</span><br><span class="line">[root@www ~]# export</span><br><span class="line">declare -x HISTCONTROL=&quot;ignoredups&quot;</span><br><span class="line">declare -x HISTSIZE=&quot;1000&quot;</span><br><span class="line">declare -x HOME=&quot;/home/zch&quot;</span><br><span class="line">declare -x HOSTNAME=&quot;localhost.localdomain&quot;</span><br><span class="line">declare -x LANG=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">declare -x LC_CTYPE=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">declare -x LESSOPEN=&quot;||/usr/bin/lesspipe.sh %s&quot;</span><br><span class="line">declare -x LOGNAME=&quot;zch&quot;</span><br><span class="line"># 每个数据都是排列整齐的输出！如果我们不想要『 declare -x 』时</span><br><span class="line"># 我们还可以指定某个范围的值，例如第 12-20 的字符，就是 cut -c 12-20</span><br><span class="line">zch@localhost ~]$ export | cut -c 12-</span><br><span class="line">HISTCONTROL=&quot;ignoredups&quot;</span><br><span class="line">HISTSIZE=&quot;1000&quot;</span><br><span class="line">HOME=&quot;/home/zch&quot;</span><br><span class="line">HOSTNAME=&quot;localhost.localdomain&quot;</span><br><span class="line">LANG=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_CTYPE=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LESSOPEN=&quot;||/usr/bin/lesspipe.sh %s&quot;</span><br><span class="line">LOGNAME=&quot;zch&quot;</span><br></pre></td></tr></table></figure>
<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><blockquote>
<p>刚刚的 cut 是将一行信息当中，取出某部分我们想要的，而 grep 则是分析一行信息， 若当中有我们所需要的信息，就将该行拿出来～简单的语法是这样的：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# grep [-acinv] [--color=auto] &apos;搜寻字符串&apos; filename</span><br><span class="line">选项与参数：</span><br><span class="line">-a ：将 binary 文件以 text 文件的方式搜寻数据</span><br><span class="line">-c ：计算找到 &apos;搜寻字符串&apos; 的次数</span><br><span class="line">-i ：忽略大小写的不同，所以大小写视为相同</span><br><span class="line">-n ：顺便输出行号</span><br><span class="line">-v ：反向选择，亦即显示出没有 &apos;搜寻字符串&apos; 内容的那一行！</span><br><span class="line">--color=auto ：可以将找到的关键词部分加上颜色的显示喔！</span><br><span class="line"></span><br><span class="line"># grep 对指定文件查询字符串</span><br><span class="line">[zch@localhost ~]$ grep bashrc ./list</span><br><span class="line"># .bashrc</span><br><span class="line">if [ -f /etc/bashrc ]; then</span><br><span class="line">	. /etc/bashrc</span><br><span class="line">[zch@localhost ~]$ cat list</span><br><span class="line"># .bashrc</span><br><span class="line"># Source global definitions</span><br><span class="line">if [ -f /etc/bashrc ]; then</span><br><span class="line">	. /etc/bashrc</span><br><span class="line">fi</span><br><span class="line">[zch@localhost ~]$ grep bashrc ./list</span><br><span class="line"># .bashrc</span><br><span class="line">if [ -f /etc/bashrc ]; then</span><br><span class="line">	. /etc/bashrc</span><br><span class="line">	</span><br><span class="line"># 将 last 当中，有出现 zch 的那一行就取出来；</span><br><span class="line">[zch@localhost ~]$ last | grep &apos;zch&apos;</span><br><span class="line">zch      pts/2        172.16.98.1      Wed Aug  8 10:31   still logged in</span><br><span class="line">zch      pts/1        172.16.98.1      Wed Aug  8 09:56 - 11:58  (02:01)</span><br><span class="line"># 只要筛选没有zch的记录</span><br><span class="line">[zch@localhost ~]$ last | grep -v zch&apos;</span><br><span class="line">(unknown :0           :0               Wed Aug  8 09:53 - 09:53  (00:00)</span><br><span class="line">reboot   system boot  3.10.0-327.el7.x Wed Aug  8 09:52 - 15:24  (05:32)</span><br><span class="line"></span><br><span class="line">wtmp begins Wed Aug  8 09:52:25 2018</span><br></pre></td></tr></table></figure>
<h2 id="排序命令-sort-wc-uniq"><a href="#排序命令-sort-wc-uniq" class="headerlink" title="排序命令 sort, wc, uniq"></a>排序命令 sort, wc, uniq</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# wc [-lwm]</span><br><span class="line">选项与参数：</span><br><span class="line">-l  ：仅列出行；</span><br><span class="line">-w  ：仅列出多少字(英文单字)；</span><br><span class="line">-m  ：多少字符；</span><br><span class="line"></span><br><span class="line"># 输出的三个数字中，分别代表： 『行、字数、字符数』</span><br><span class="line">[zch@localhost ~]$ wc list</span><br><span class="line"> 11  36 231 list</span><br><span class="line"> </span><br><span class="line"> # 统计文件数量</span><br><span class="line"> [zch@localhost ~]$ ls | wc -l</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<h2 id="双向重定向-tee"><a href="#双向重定向-tee" class="headerlink" title="双向重定向 tee"></a>双向重定向 tee</h2><p><img src="/images/1533716217738.jpg" alt="tee 的工作流程示意图"></p>"
<blockquote>
<p>tee 会同时将数据流分送到文件去与屏幕 (screen)；而输出到屏幕的，其实就是 stdout ，可以让下个命令继续处理喔</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# tee [-a] file</span><br><span class="line">选项与参数：</span><br><span class="line">-a  ：以累加 (append) 的方式，将数据加入 file 当中！</span><br><span class="line"></span><br><span class="line"># 这个范例则是将 ll 的数据存一份到 ~/linux_test/ll.log ，同时屏幕也有输出信息！</span><br><span class="line">[zch@localhost ~]$ ll | tee ~/linux_test/ll.log | cat</span><br><span class="line">总用量 8</span><br><span class="line">-rw-rw-r--. 1 zch zch  37 8月   8 11:30 error.log</span><br><span class="line">drwxrwxr-x. 2 zch zch  36 8月   8 11:30 linux_test</span><br><span class="line">-rw-rw-r--. 1 zch zch 231 8月   8 13:44 list</span><br><span class="line">drwxr-xr-x. 2 zch zch   6 8月   8 09:53 公共</span><br><span class="line">drwxr-xr-x. 2 zch zch   6 8月   8 09:53 模板</span><br><span class="line">[zch@localhost ~]$ cat ~/linux_test/ll.log</span><br><span class="line">总用量 8</span><br><span class="line">-rw-rw-r--. 1 zch zch  37 8月   8 11:30 error.log</span><br><span class="line">drwxrwxr-x. 2 zch zch  36 8月   8 11:30 linux_test</span><br><span class="line">-rw-rw-r--. 1 zch zch 231 8月   8 13:44 list</span><br><span class="line">drwxr-xr-x. 2 zch zch   6 8月   8 09:53 公共</span><br><span class="line">drwxr-xr-x. 2 zch zch   6 8月   8 09:53 模板</span><br></pre></td></tr></table></figure>
<h2 id="字符转换命令-tr-col-join-paste-expand"><a href="#字符转换命令-tr-col-join-paste-expand" class="headerlink" title="字符转换命令 tr, col, join, paste, expand"></a>字符转换命令 tr, col, join, paste, expand</h2><h2 id="切割命令-split"><a href="#切割命令-split" class="headerlink" title="切割命令 split"></a>切割命令 split</h2><h2 id="参数代换-xargs"><a href="#参数代换-xargs" class="headerlink" title="参数代换 xargs"></a>参数代换 xargs</h2><blockquote>
<p>xargs 可以读入 stdin 的数据，并且以空格符或断行字符作为分辨，将 stdin 的数据分隔成为 arguments 。 因为是以空格符作为分隔，所以，如果有一些档名或者是其他意义的名词内含有空格符的时候， xargs 可能就会误判了～</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# xargs [-0epn] command</span><br><span class="line">选项与参数：</span><br><span class="line">-0  ：如果输入的 stdin 含有特殊字符，例如 `, \, 空格键等等字符时，这个 -0 参数</span><br><span class="line">      可以将他还原成一般字符。这个参数可以用于特殊状态喔！</span><br><span class="line">-e  ：这个是 EOF (end of file) 的意思。后面可以接一个字符串，当 xargs 分析到</span><br><span class="line">      这个字符串时，就会停止继续工作！</span><br><span class="line">-p  ：在运行每个命令的 argument 时，都会询问使用者的意思；</span><br><span class="line">-n  ：后面接次数，每次 command 命令运行时，要使用几个参数的意思。看范例三。</span><br><span class="line">当 xargs 后面没有接任何的命令时，默认是以 echo 来进行输出喔！</span><br><span class="line"></span><br><span class="line"># xargs 没有接命令，echo输出</span><br><span class="line">[zch@localhost ~]$ find . -name error.log |xargs</span><br><span class="line">./error.log</span><br><span class="line"># 很多命令其实并不支持管线命令，因此我们可以透过 xargs 来提供该命令引用 standard input 之用</span><br><span class="line">[zch@localhost ~]$ find . -name error.log |xargs ls -l</span><br><span class="line">-rw-rw-r--. 1 zch zch 37 8月   8 11:30 ./error.log</span><br></pre></td></tr></table></figure>
<h2 id="关于减号-的用途"><a href="#关于减号-的用途" class="headerlink" title="关于减号-的用途"></a>关于减号-的用途</h2><blockquote>
<p>在管线命令当中，常常会使用到前一个命令的 stdout 作为这次的 stdin ， <strong>某些命令需要用到文件名 (例如 tar) 来进行处理时，该 stdin 与 stdout 可以利用减号 “-“ 来替代</strong>， 举例来说：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# tar -cvf - /home | tar -xvf -</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>上面这个例子是说：『我将 /home 里面的文件给他打包，但打包的数据不是纪录到文件，而是传送到 stdout； 经过管线后，将 tar -cvf - /home 传送给后面的 tar -xvf - 』。后面的这个 - 则是取用前一个命令的 stdout， 因此，我们就不需要使用 file 了！这是很常见的例子喔！注意注意！</p>
<h1 id="文件的格式化与相关处理"><a href="#文件的格式化与相关处理" class="headerlink" title="文件的格式化与相关处理"></a>文件的格式化与相关处理</h1><p>参考：<a href="http://cn.linux.vbird.org/linux_basic/0330regularex_4.php" target="_blank" rel="noopener">文件的格式化与相关处理</a></p>
<h2 id="sed工具"><a href="#sed工具" class="headerlink" title="sed工具"></a>sed工具</h2><blockquote>
<p>sed 本身也是一个管线命令，可以分析 standard input 的啦！ 而且 sed 还可以将数据进行取代、删除、新增、撷取特定行等等的功能呢！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# sed [-nefr] [动作]</span><br><span class="line">选项与参数：</span><br><span class="line">-n  ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN </span><br><span class="line">      的数据一般都会被列出到萤幕上。但如果加上 -n 参数后，则只有经过</span><br><span class="line">      sed 特殊处理的那一行(或者动作)才会被列出来。</span><br><span class="line">-e  ：直接在命令列模式上进行 sed 的动作编辑；</span><br><span class="line">-f  ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 </span><br><span class="line">      sed 动作；</span><br><span class="line">-r  ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)</span><br><span class="line">-i  ：直接修改读取的文件内容，而不是由萤幕输出。</span><br><span class="line"></span><br><span class="line">动作说明：  [n1[,n2]]function</span><br><span class="line">n1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作</span><br><span class="line">         是需要在 10 到 20 行之间进行的，则『 10,20[动作行为] 』</span><br><span class="line"></span><br><span class="line">function 有底下这些咚咚：</span><br><span class="line">a   ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</span><br><span class="line">c   ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</span><br><span class="line">d   ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</span><br><span class="line">i   ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</span><br><span class="line">p   ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～</span><br><span class="line">s   ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配</span><br><span class="line">      正规表示法！例如 1,20s/old/new/g 就是啦！</span><br></pre></td></tr></table></figure>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[zch@172 linux_test]$ nl ll.log | sed &apos;1,2d&apos;</span><br><span class="line">     3	drwxrwxr-x. 2 zch zch  36 8月   8 11:30 linux_test</span><br><span class="line">     4	-rw-rw-r--. 1 zch zch 231 8月   8 13:44 list</span><br></pre></td></tr></table></figure>
<h3 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[zch@172 linux_test]$ nl ll.log | sed &apos;1a hello,world&apos;</span><br><span class="line">     1	总用量 8</span><br><span class="line">hello,world</span><br><span class="line">     2	-rw-rw-r--. 1 zch zch  37 8月   8 11:30 error.log</span><br><span class="line">     3	drwxrwxr-x. 2 zch zch  36 8月   8 11:30 linux_test</span><br><span class="line">     4	-rw-rw-r--. 1 zch zch 231 8月   8 13:44 list</span><br></pre></td></tr></table></figure>
<h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[zch@172 linux_test]$ nl ll.log | sed -n &apos;1,2p&apos;</span><br><span class="line">     1	总用量 8</span><br><span class="line">     2	-rw-rw-r--. 1 zch zch  37 8月   8 11:30 error.log</span><br></pre></td></tr></table></figure>
<h3 id="部分数据的查找并替换功能"><a href="#部分数据的查找并替换功能" class="headerlink" title="部分数据的查找并替换功能"></a>部分数据的查找并替换功能</h3><blockquote>
<p>除了整行的处理模式之外， sed 还可以用行为单位进行部分数据的搜寻并取代的功能喔！ 基本上 sed 的搜寻与取代的与 vi 相当的类似！他有点像这样：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &apos;s/要被取代的字串/新的字串/g&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>举例1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">步骤一：先观察原始信息，利用 /sbin/ifconfig  查询 IP 为何？</span><br><span class="line">[root@www ~]# /sbin/ifconfig eth0</span><br><span class="line">eth0      Link encap:Ethernet  HWaddr 00:90:CC:A6:34:84</span><br><span class="line">          inet addr:192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          inet6 addr: fe80::290:ccff:fea6:3484/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">.....(以下省略).....</span><br><span class="line"># 因为我们还没有讲到 IP ，这里你先有个概念即可啊！我们的重点在第二行，</span><br><span class="line"># 也就是 192.168.1.100 那一行而已！先利用关键字捉出那一行！</span><br><span class="line"></span><br><span class="line">步骤二：利用关键字配合 grep 撷取出关键的一行数据</span><br><span class="line">[root@www ~]# /sbin/ifconfig eth0 | grep &apos;inet addr&apos;</span><br><span class="line">          inet addr:192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line"># 当场仅剩下一行！接下来，我们要将开始到 addr: 通通删除，就是像底下这样：</span><br><span class="line"># inet addr:192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line"># 上面的删除关键在於『 ^.*inet addr: 』啦！正规表示法出现！ ^_^</span><br><span class="line"></span><br><span class="line">步骤三：将 IP 前面的部分予以删除</span><br><span class="line">[root@www ~]# /sbin/ifconfig eth0 | grep &apos;inet addr&apos; | \</span><br><span class="line">&gt;  sed &apos;s/^.*addr://g&apos;</span><br><span class="line">192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line"># 仔细与上个步骤比较一下，前面的部分不见了！接下来则是删除后续的部分，亦即：</span><br><span class="line"># 192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line"># 此时所需的正规表示法为：『 Bcast.*$ 』就是啦！</span><br><span class="line"></span><br><span class="line">步骤四：将 IP 后面的部分予以删除</span><br><span class="line">[root@www ~]# /sbin/ifconfig eth0 | grep &apos;inet addr&apos; | \</span><br><span class="line">&gt;  sed &apos;s/^.*addr://g&apos; | sed &apos;s/Bcast.*$//g&apos;</span><br><span class="line">192.168.1.100</span><br></pre></td></tr></table></figure>
</li>
<li><p>举例2</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">步骤一：先使用 grep 将关键字 MAN 所在行取出来</span><br><span class="line">[root@www ~]# cat /etc/man.config | grep &apos;MAN&apos;</span><br><span class="line"># when MANPATH contains an empty substring), to find out where the cat</span><br><span class="line"># MANBIN                pathname</span><br><span class="line"># MANPATH               manpath_element [corresponding_catdir]</span><br><span class="line"># MANPATH_MAP           path_element    manpath_element</span><br><span class="line"># MANBIN                /usr/local/bin/man</span><br><span class="line"># Every automatically generated MANPATH includes these fields</span><br><span class="line">MANPATH /usr/man</span><br><span class="line">....(后面省略)....</span><br><span class="line"></span><br><span class="line">步骤二：删除掉注解之后的数据！</span><br><span class="line">[root@www ~]# cat /etc/man.config | grep &apos;MAN&apos;| sed &apos;s/#.*$//g&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MANPATH /usr/man</span><br><span class="line">....(后面省略)....</span><br><span class="line"># 从上面可以看出来，原本注解的数据都变成空白行啦！所以，接下来要删除掉空白行</span><br><span class="line"></span><br><span class="line">[root@www ~]# cat /etc/man.config | grep &apos;MAN&apos;| sed &apos;s/#.*$//g&apos; | \</span><br><span class="line">&gt; sed &apos;/^$/d&apos;</span><br><span class="line">MANPATH /usr/man</span><br><span class="line">MANPATH /usr/share/man</span><br><span class="line">MANPATH /usr/local/man</span><br></pre></td></tr></table></figure>
<h3 id="直接修改文件内容-危险动作"><a href="#直接修改文件内容-危险动作" class="headerlink" title="直接修改文件内容(危险动作)"></a>直接修改文件内容(危险动作)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">范例六：利用 sed 将 regular_express.txt 内每一行结尾若为 . 则换成 !</span><br><span class="line">[root@www ~]# sed -i &apos;s/\.$/\!/g&apos; regular_express.txt</span><br><span class="line"># 上头的 -i 选项可以让你的 sed 直接去修改后面接的文件内容而不是由萤幕输出喔！</span><br><span class="line"># 这个范例是用在取代！请您自行 cat 该文件去查阅结果罗！</span><br><span class="line"></span><br><span class="line">范例七：利用 sed 直接在 regular_express.txt 最后一行加入『# This is a test』</span><br><span class="line">[root@www ~]# sed -i &apos;$a # This is a test&apos; regular_express.txt</span><br><span class="line"># 由於 $ 代表的是最后一行，而 a 的动作是新增，因此该文件最后新增罗！</span><br></pre></td></tr></table></figure>
<p>sed 的『 -i 』选项可以直接修改文件内容，这功能非常有帮助！举例来说，如果你有一个 100 万行的文件，你要在第 100 行加某些文字，此时使用 vim 可能会疯掉！因为文件太大了！那怎办？就利用 sed 啊！透过 sed 直接修改/取代的功能，你甚至不需要使用 vim 去修订！很棒吧！</p>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><blockquote>
<p>awk 也是一个非常棒的数据处理工具！相较於 sed 常常作用於一整个行的处理， awk 则比较倾向於一行当中分成数个『栏位』来处理。因此，awk 相当的适合处理小型的数据数据处理呢！awk 通常运行的模式是这样的：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# awk &apos;条件类型1&#123;动作1&#125; 条件类型2&#123;动作2&#125; ...&apos; filename</span><br></pre></td></tr></table></figure>
<blockquote>
<p>awk 后面接两个单引号并加上大括号 {} 来配置想要对数据进行的处理动作。 awk 可以处理后续接的文件，也可以读取来自前个命令的 standard output 。 但如前面说的， awk 主要是处理『每一行的栏位内的数据』，而默认的『栏位的分隔符号为 “空白键” 或 “[tab]键” 』！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[zch@172 linux_test]$ echo &quot;1 2 3 4 5 6&quot;|awk &apos;&#123;print $0&#125;&apos;</span><br><span class="line">1 2 3 4 5 6</span><br><span class="line">[zch@172 linux_test]$ echo &quot;1 2 3 4 5 6&quot;|awk &apos;&#123;print $1&#125;&apos;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>整个 awk 的处理流程是：</p>
<ol>
<li>读入第一行，并将第一行的数据填入 $0, $1, $2…. 等变量当中；</li>
<li>依据 “条件类型” 的限制，判断是否需要进行后面的 “动作”；</li>
<li>做完所有的动作与条件类型；</li>
<li>若还有后续的『行』的数据，则重复上面 1~3 的步骤，直到所有的数据都读完为止。</li>
</ol>
<p>经过这样的步骤，你会晓得， awk 是『以行为一次处理的单位』， 而『以栏位为最小的处理单位』。好了，那么 awk 怎么知道我到底这个数据有几行？有几栏呢？这就需要 awk 的内建变量的帮忙啦～</p>
<table>
<thead>
<tr>
<th>变量名称</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>NF</td>
<td>每一行 ($0) 拥有的栏位总数</td>
</tr>
<tr>
<td>NR</td>
<td>目前 awk 所处理的是『第几行』数据</td>
</tr>
<tr>
<td>FS</td>
<td>目前的分隔字节，默认是空白键</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[zch@172 linux_test]$ cat ll.log</span><br><span class="line">总用量 8</span><br><span class="line">-rw-rw-r--. 1 zch zch  37 8月   8 11:30 error.log</span><br><span class="line">drwxrwxr-x. 2 zch zch  36 8月   8 11:30 linux_test</span><br><span class="line">-rw-rw-r--. 1 zch zch 231 8月   8 13:44 list</span><br><span class="line">[zch@172 linux_test]$ cat ll.log | awk &apos;&#123;print $1 &quot;\tline:&quot; NR &quot;\tcolumns:&quot; NF&#125;&apos;</span><br><span class="line">总用量	line:1	columns:2</span><br><span class="line">-rw-rw-r--.	line:2	columns:9</span><br><span class="line">drwxrwxr-x.	line:3	columns:9</span><br><span class="line">-rw-rw-r--.	line:4	columns:9</span><br><span class="line"></span><br><span class="line">#分隔符</span><br><span class="line">[zch@172 linux_test]$ echo &quot;1#2#3#4#&quot;|awk &apos;BEGIN &#123;FS=&quot;#&quot;&#125; &#123;print $1 &quot;\t &quot; $3&#125;&apos;</span><br><span class="line">1	 3</span><br></pre></td></tr></table></figure>
<h3 id="awk-的逻辑运算字节"><a href="#awk-的逻辑运算字节" class="headerlink" title="awk 的逻辑运算字节"></a>awk 的逻辑运算字节</h3><ul>
<li>举例：<br>第一行只是说明，所以第一行不要进行加总 (NR==1 时处理)；<br>第二行以后就会有加总的情况出现 (NR&gt;=2 以后处理)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cat pay.txt | \</span><br><span class="line">&gt; awk &apos;NR==1&#123;printf &quot;%10s %10s %10s %10s %10s\n&quot;,$1,$2,$3,$4,&quot;Total&quot; &#125;</span><br><span class="line">NR&gt;=2&#123;total = $2 + $3 + $4</span><br><span class="line">printf &quot;%10s %10d %10d %10d %10.2f\n&quot;, $1, $2, $3, $4, total&#125;&apos;</span><br><span class="line">      Name        1st        2nd        3th      Total</span><br><span class="line">     VBird      23000      24000      25000   72000.00</span><br><span class="line">    DMTsai      21000      20000      23000   64000.00</span><br><span class="line">     Bird2      43000      42000      41000  126000.00</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="awk当中使用外部变量"><a href="#awk当中使用外部变量" class="headerlink" title="awk当中使用外部变量"></a>awk当中使用外部变量</h3><blockquote>
<p><a href="https://www.cnblogs.com/emanlee/p/3728440.html" target="_blank" rel="noopener">awk当中使用外部变量</a></p>
</blockquote>
<ol>
<li>awk命令使用双引号的情况下<br>此时在awk命令里面使用<code>\&quot;$var\&quot;</code>就可以引用外部环境变量的var的值<br><code>$ var=&quot;BASH&quot;;echo &quot;unix script&quot;| awk &quot;gsub(/unix/,\&quot;$var\&quot;)&quot;</code></li>
<li><p>awk命令使用单引号的情况下<br>此时在awk命令里面使用<code>&quot;&#39;&quot;$var&quot;&#39;&quot;</code>就可以应用外部变量var的值，注意五个点表示两个双引号之间有一个单引号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ var=&quot;BASH&quot;;echo &quot;unix script&quot;| awk &apos;gsub(/unix/, &quot;&apos;&quot;$var&quot;&apos;&quot;)&apos;</span><br><span class="line">BASH script</span><br></pre></td></tr></table></figure>
</li>
<li><p>awk的参数-v  (推荐)<br>这个没什么好解释的，应该是用得比较多的一种方法了，就是使用-v参数，加带一个变量极其赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. $ echo &quot;unix script&quot;| awk -v var=&quot;BASH&quot; &apos;gsub(/unix/, var)&apos;</span><br><span class="line">BASH script</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2. awk –v a=111 –v b=222 &apos;&#123;print a,b&#125;&apos; yourfile.txt</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>注意, 对每一个变量加一个 –v 作传递.</p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="zch 微信支付">
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/25/operating_system/linux/linux--shell scripts那些事/" rel="next" title="linux--shell scripts那些事">
                <i class="fa fa-chevron-left"></i> linux--shell scripts那些事
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/25/operating_system/linux/shell scripts in action -- 提取nginx数据生成sql脚本/" rel="prev" title="shell scripts in action -- 提取nginx数据生成sql脚本">
                shell scripts in action -- 提取nginx数据生成sql脚本 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="zch">
            
              <p class="site-author-name" itemprop="name">zch</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">160</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#常用命令"><span class="nav-number">1.</span> <span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据流重导向-Redirection"><span class="nav-number">2.</span> <span class="nav-text">数据流重导向 (Redirection)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#standard-output-与-standard-error-output"><span class="nav-number">2.1.</span> <span class="nav-text">standard output 与 standard error output</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dev-null-垃圾桶黑洞装置与特殊写法"><span class="nav-number">2.2.</span> <span class="nav-text">/dev/null 垃圾桶黑洞装置与特殊写法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#standard-input-：-lt-与-lt-lt"><span class="nav-number">2.3.</span> <span class="nav-text">standard input ： &lt; 与 &lt;&lt;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#管道命令"><span class="nav-number">3.</span> <span class="nav-text">管道命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#选取命令"><span class="nav-number">3.1.</span> <span class="nav-text">选取命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cut"><span class="nav-number">3.1.1.</span> <span class="nav-text">cut</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grep"><span class="nav-number">3.1.2.</span> <span class="nav-text">grep</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#排序命令-sort-wc-uniq"><span class="nav-number">3.2.</span> <span class="nav-text">排序命令 sort, wc, uniq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#双向重定向-tee"><span class="nav-number">3.3.</span> <span class="nav-text">双向重定向 tee</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符转换命令-tr-col-join-paste-expand"><span class="nav-number">3.4.</span> <span class="nav-text">字符转换命令 tr, col, join, paste, expand</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#切割命令-split"><span class="nav-number">3.5.</span> <span class="nav-text">切割命令 split</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参数代换-xargs"><span class="nav-number">3.6.</span> <span class="nav-text">参数代换 xargs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于减号-的用途"><span class="nav-number">3.7.</span> <span class="nav-text">关于减号-的用途</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件的格式化与相关处理"><span class="nav-number">4.</span> <span class="nav-text">文件的格式化与相关处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#sed工具"><span class="nav-number">4.1.</span> <span class="nav-text">sed工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#删除"><span class="nav-number">4.1.1.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#新增"><span class="nav-number">4.1.2.</span> <span class="nav-text">新增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示"><span class="nav-number">4.1.3.</span> <span class="nav-text">显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部分数据的查找并替换功能"><span class="nav-number">4.1.4.</span> <span class="nav-text">部分数据的查找并替换功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直接修改文件内容-危险动作"><span class="nav-number">4.1.5.</span> <span class="nav-text">直接修改文件内容(危险动作)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#awk"><span class="nav-number">4.2.</span> <span class="nav-text">awk</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#awk-的逻辑运算字节"><span class="nav-number">4.2.1.</span> <span class="nav-text">awk 的逻辑运算字节</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#awk当中使用外部变量"><span class="nav-number">4.2.2.</span> <span class="nav-text">awk当中使用外部变量</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zch</span>

  
</div>


  <div class="powered-by">个人学习和工作中总结的笔记</div>
  <i class="fa fa-user-md"></i>



  <span class="post-meta-divider">|</span>


<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1276375036'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s5.cnzz.com/z_stat.php%3Fid%3D1276375036%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  





  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_sphere.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: true,
        appId: 'qlLpITiuRGP5wGRRqD1TTe7y-gzGzoHsz',
        appKey: 'Xu6NC8eq2DCotEgOrHgbA2St',
        placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
